{% extends "template.html" %}

{% load util %}

{% block title %}[Rede - Edição]{% endblock %}

{% block header %}
<style>
#fields ul li {
	list-style: none;
	display: inline-block;
}
#network_ipv4 label {
	vertical-align: middle;
}
#network_ipv6 label {
	vertical-align: middle;
}
</style>
<script type="text/javascript" src="{{ MEDIA_URL }}/js/ipAddr.js"></script>
<script type="text/javascript" src="{{ MEDIA_URL }}/js/ipAddr_l8n.js"></script>
<script type="text/javascript">
$(document).ready(function() {
	
	$("#page_tab").tabs();
	
	$("#btn_sav").button({ icons: {primary: "ui-icon-disk"} });
	
	$("#btn_can").button({ icons: {primary: "ui-icon-cancel"} }).click(function(){
		location.href = "{% url vlan.search.list %}";
	});
	
	$("#id_vlan_name").attr("readonly","readonly");
	$("#id_ip_version_1").attr("disabled","disabled");
	$("#id_ip_version_0").attr("readonly","readonly");
	
	
});
</script>
{% endblock %}

{% block content %}
<div id="page_tab">
	<ul>
		<li><span class="ui-icon ui-icon-triangle-1-e page_tab_icon"></span><a href="#tabs-1">Edição de Rede</a></li>
	</ul>
	<div id="tabs-1">
	
		<form id="search_form" method="post" action="{% url network.edit.by.id.rede.ipv4 id_net %}">
			{% csrf_token %}
			<div id="fields" class="ui-widget-content">
			{% for field in form %}
					
				
					<div>
						<div><label for="{{ field.auto_id }}">{{ field.label_tag }}{% if field.field.required %}<span style="color: red;">*</span>{% endif %}</label></div>
						{{ field }}
						
						{% if forloop.counter == 2  %}
						<br/>
						<div id="network_ipv4" style="margin-top: -10px; margin-bottom: 15px">
						<input type="text" id="oct1" name="oct1" maxlength="4" style="width:24px;" class="ipv4" value="{{oct1}}" readonly="readonly" /><label> . </label>
						<input type="text" name="oct2" maxlength="4" style="width:24px;" class="ipv4"  readonly="readonly" value="{{oct2}}"/><label> . </label>
						<input type="text" name="oct3" maxlength="4" style="width:24px;" class="ipv4"  readonly="readonly" value="{{oct3}}" /><label> . </label>
						<input type="text" name="oct4" maxlength="4" style="width:24px;" class="ipv4"  readonly="readonly" value="{{oct4}}"/><label> / </label>
						<input type="text" name="oct5" maxlength="2" style="width:18px;" class="ipv4" readonly="readonly" value="{{block_net}}"/><label></label>
						<p id="error">
						{% if form.networkv4.errors %}
							{% for error in form.networkv4.errors %}
								{{ error|escape }}
							{% endfor %}
						{% endif %}
						</p>
						<label>Broadcast</label>
						<br/>
						<input type="text" id="brdcst" maxlength="3" style="width: 98px; background-color: #FAFAFA; border: none; text-align: center;" readonly="readonly" value="{{broadcast}}"/>
					</div>
				
					{% endif %}
						
						{% if forloop.counter == 1  %}
						<img id="loading-autocomplete" src="{{ MEDIA_URL }}/img/input-loading.gif" style="display: none;" />
						{% endif %}
						<p id="error">
						{% if field.errors %} 
							{% for error in field.errors %}
								{{ error|escape }}
							{% endfor %}
						{% endif %}
						</p>
					</div>
			{% endfor %}
			</div>
			
			<div class="separator spacer"></div>
			
			<div class="buttons-l ui-widget-header">
				<button id="btn_sav" type="submit">Gravar</button>
				<button id="btn_can" type="button">Cancelar</button>
			</div>
		</form>
		
	</div>
</div>
{% endblock %}